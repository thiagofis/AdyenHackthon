/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.2.1
 */

/*! modernizr 3.3.1 (Custom Build) | MIT *
 * https://modernizr.com/download/?-dataset-localstorage-mediaqueries-touchevents-setclasses !*/

//
// element-dataset 1.2.0
//
// element-dataset is released under the terms of the BSD-3-Clause license.
// (c) 2015 - 2016 Mark Milstein <mark@epiloque.com>
//
// For all details and documentation: https://github.com/epiloque/element-dataset
//

requirejs.config({waitSeconds:30,paths:{modernizr:"vendor/modernizr",jquery:"vendor/jquery-1.10.2",jquery_cookie:"vendor/jquery.cookie",core:"helpers/core",constants:"helpers/constants",web_fonts:"helpers/web-fonts",configs:"helpers/configs",responsive:"helpers/responsive",modulesFactory:"helpers/Factory/modulesFactory",billingAddressFactory:"helpers/Factory/billingAddressFactory",pub_sub:"plugins/pub_sub",requester:"plugins/requester",gmaps:"plugins/gmaps",chooser:"plugins/chooser",notifier:"plugins/notifier/notifier",notifierMethods:"plugins/notifier/notifier.methods",notifierConstants:"plugins/notifier/notifier.constants",formValidator:"plugins/formValidator/formValidator",formValidatorMethods:"plugins/formValidator/formValidator.methods",formValidatorConstants:"plugins/formValidator/formValidator.constants",accordion:"plugins/accordion/accordion",accordionMethods:"plugins/accordion/accordion.methods",accordionConstants:"plugins/accordion/accordion.constants",popover:"plugins/popover/popover",popoverMethods:"plugins/popover/popover.methods",tracker:"plugins/tracker/tracker",trackerMethods:"plugins/tracker/tracker.methods",loading:"plugins/loading/loading",loadingConstants:"plugins/loading/loading.constants",modal:"plugins/modal/modal",modalMethods:"plugins/modal/modal.methods",stickblock:"plugins/stickBlock/stickblock",passwordFields:"plugins/passwordFields/passwordFields",passwordFieldsMethods:"plugins/passwordFields/passwordFields.methods",inputMask:"plugins/inputMask/inputMask",inputMaskMethods:"plugins/inputMask/inputMask.methods",inputMaskConstants:"plugins/inputMask/inputMask.constants",cascadingDropdown:"plugins/cascadingDropdown/cascadingDropdown",cascadingDropdownMethods:"plugins/cascadingDropdown/cascadingDropdown.methods",abTestingEngine:"abtests/abTestingEngine/abTestingEngine",abTestingEngineMethods:"abtests/abTestingEngine/abTestingEngine.methods",creditCardMask:"plugins/creditCardMask/creditCardMask",creditCardMaskMethods:"plugins/creditCardMask/creditCardMask.methods",fitPredictorRequester:"plugins/fitPredictor/fitPredictorRequester",sha1Converter:"plugins/fitPredictor/sha1Converter",fitPredictor:"plugins/fitPredictor/fitPredictor",async:"../../node_modules/requirejs-plugins/src/async",marker_clusterer:"../../node_modules/js-marker-clusterer/src/markerclusterer_compiled",hogan:"../../node_modules/hogan.js/dist/hogan-3.0.2.amd",es6_promise:"../../node_modules/es6-promise/dist/es6-promise",velocity:"../../node_modules/velocity-animate/velocity",autoComplete:"../../node_modules/js-autocomplete/auto-complete",requirejs:"../../node_modules/requirejs/require",es6ObjectAssign:"../../node_modules/es6-object-assign/dist/object-assign",elementDataset:"../../node_modules/element-dataset/dist/element-dataset",pag_ShippingAddress:"pages/shipping-address",pag_Payment:"pages/payment",pag_Review:"pages/review",pag_Confirmation:"pages/confirmation",Base:"pages/page-base",addressForm:"components/addressForm",zipCodeFinder:"components/zipCodeSearcher/zipCodeFinder",zipCodeFinderBrazil:"components/zipCodeSearcher/zipCodeFinderBrazil",dropdownDependency:"components/dropdownDependency",shippingAddressCardList:"components/shippingAddressCardList",clickAndCollectMap:"components/clickAndCollectMap",summaryBox:"components/summaryBox",creditCardForm:"components/creditCardForm",dateOfBirthForm:"components/dateOfBirthForm",creditCardList:"components/creditCardList",promocode:"components/promocode",paymentWeChat:"components/payment-wechat",impressions:"components/adsHandler",cpfInput:"components/cpfInput/cpfInput",cpfInputMethods:"components/cpfInput/cpfInput.methods",cpfInputConstants:"components/cpfInput/cpfInput.constants"},shim:{marker_clusterer:{exports:"MarkerClusterer"},web_fonts:{deps:["modernizr"]},jquery_cookie:{deps:["jquery"]}}}),define(window.abtest_perf_qubit?[]:["web_fonts"],function(){function e(){if(window.containers)for(var e=0;e<window.containers.length;e++){var t=document.createElement("script");t.src=window.containers[e],t.async=!0,t.defer=!0,document.body.appendChild(t)}}function t(t){t&&require.s.contexts._.config.paths["pag_"+t]&&require(["pag_"+t],function(){window.abtest_perf_qubit===!0&&require(["jquery","jquery_cookie"],function(){var t=new Event("pageloaded");document.dispatchEvent(t),e()})})}function n(){var e=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),t=document.getElementsByTagName("html")[0];e&&t.classList.add("safari")}"complete"===document.readyState?(Modernizr.dataset||require(["elementDataset"],function(e){e()}),t(document.body.getAttribute("data-page")),n()):document.onreadystatechange=function(){"complete"===document.readyState&&(Modernizr.dataset||require(["elementDataset"],function(e){e()}),t(document.body.getAttribute("data-page")),n())}}),define("main",function(){}),define("core",[],function(){var e={extend:function(e){e=e||{};for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)if(navigator.userAgent.match("MSIE 10.0;"))for(var o=Object.getOwnPropertyNames(n),t=0;t<o.length;t++){var r=o[t];n.hasOwnProperty(r)&&("object"==typeof n[r]?e[r]=this.extend(e[r],n[r]):e[r]=n[r])}else for(var r in n)n.hasOwnProperty(r)&&(null===n[r]?e[r]=null:"object"==typeof n[r]?e[r]=this.extend(e[r],n[r]):e[r]=n[r])}return e},params:function(e){return"string"==typeof e?encodeURIComponent(e):Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},hasClass:function(e,t){return e&&t?-1!==(" "+e.className+" ").indexOf(" "+t+" "):!1},addClass:function(e,t){e&&t&&(this.hasClass(e,t)||(e.className=""===e.className?t:e.className+" "+t))},removeClass:function(e,t){e&&t&&(e.className=(" "+e.className+" ").replace(" "+t+" "," ").trim())},getElementHeight:function(e){if("undefined"!=typeof e){var t=e.getBoundingClientRect().height;return"undefined"==typeof t&&(t=0),Math.max(e.clientHeight,t,e.offsetHeight)}return 0},getElementWidth:function(e){var t=e.getBoundingClientRect().width;return"undefined"==typeof t&&(t=0),Math.max(e.clientWidth,t,e.offsetWidth)},getElementContentWidth:function(e){var t=window.getComputedStyle(e),n=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return this.getElementWidth(e)-n},rectangle:function(e){if(e=e&&!e.nodeType?e[0]:e,!e||1!==e.nodeType)return!1;var t=null;try{t=e.getBoundingClientRect()}catch(n){t={top:e.offsetTop,height:e.clientHeight?e.clientHeight:e.offsetHeight}}var o=t.top+this.vt(),r=o+t.height;return{t:o,b:r}},vt:function(){var e="undefined"!=typeof document&&document,t=e&&e.documentElement;return window.pageYOffset||t.scrollTop},htmlEncode:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}};return e}),function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){V=e}function o(e){Y=e}function r(){return function(){process.nextTick(c)}}function s(){return function(){K(c)}}function i(){var e=0,t=new X(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function a(){var e=new MessageChannel;return e.port1.onmessage=c,function(){e.port2.postMessage(0)}}function u(){return function(){setTimeout(c,1)}}function c(){for(var e=0;W>e;e+=2){var t=ee[e],n=ee[e+1];t(n),ee[e]=void 0,ee[e+1]=void 0}W=0}function d(){try{var e=require,t=e("vertx");return K=t.runOnLoop||t.runOnContext,s()}catch(n){return u()}}function l(e,t){var n=this,o=new this.constructor(p);void 0===o[oe]&&M(o);var r=n._state;if(r){var s=arguments[r-1];Y(function(){b(r,o,s,n._result)})}else O(n,o,e,t);return o}function f(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(p);return v(n,e),n}function p(){}function _(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function h(e){try{return e.then}catch(t){return ae.error=t,ae}}function E(e,t,n,o){try{e.call(t,n,o)}catch(r){return r}}function g(e,t,n){Y(function(e){var o=!1,r=E(n,t,function(n){o||(o=!0,t!==n?v(e,n):T(e,n))},function(t){o||(o=!0,y(e,t))},"Settle: "+(e._label||" unknown promise"));!o&&r&&(o=!0,y(e,r))},e)}function C(e,t){t._state===se?T(e,t._result):t._state===ie?y(e,t._result):O(t,void 0,function(t){v(e,t)},function(t){y(e,t)})}function A(e,n,o){n.constructor===e.constructor&&o===te&&constructor.resolve===ne?C(e,n):o===ae?y(e,ae.error):void 0===o?T(e,n):t(o)?g(e,n,o):T(e,n)}function v(t,n){t===n?y(t,_()):e(n)?A(t,n,h(n)):T(t,n)}function D(e){e._onerror&&e._onerror(e._result),I(e)}function T(e,t){e._state===re&&(e._result=t,e._state=se,0!==e._subscribers.length&&Y(I,e))}function y(e,t){e._state===re&&(e._state=ie,e._result=t,Y(D,e))}function O(e,t,n,o){var r=e._subscribers,s=r.length;e._onerror=null,r[s]=t,r[s+se]=n,r[s+ie]=o,0===s&&e._state&&Y(I,e)}function I(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o,r,s=e._result,i=0;i<t.length;i+=3)o=t[i],r=t[i+n],o?b(n,o,r,s):r(s);e._subscribers.length=0}}function S(){this.error=null}function N(e,t){try{return e(t)}catch(n){return ue.error=n,ue}}function b(e,n,o,r){var s,i,a,u,c=t(o);if(c){if(s=N(o,r),s===ue?(u=!0,i=s.error,s=null):a=!0,n===s)return void y(n,m())}else s=r,a=!0;n._state!==re||(c&&a?v(n,s):u?y(n,i):e===se?T(n,s):e===ie&&y(n,s))}function w(e,t){try{t(function(t){v(e,t)},function(t){y(e,t)})}catch(n){y(e,n)}}function R(){return ce++}function M(e){e[oe]=ce++,e._state=void 0,e._result=void 0,e._subscribers=[]}function P(e){return new _e(this,e).promise}function L(e){var t=this;return new t(z(e)?function(n,o){for(var r=e.length,s=0;r>s;s++)t.resolve(e[s]).then(n,o)}:function(e,t){t(new TypeError("You must pass an array to race."))})}function U(e){var t=this,n=new t(p);return y(n,e),n}function G(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function k(e){this[oe]=R(),this._result=this._state=void 0,this._subscribers=[],p!==e&&("function"!=typeof e&&G(),this instanceof k?w(this,e):H())}function q(e,t){this._instanceConstructor=e,this.promise=new e(p),this.promise[oe]||M(this.promise),z(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&T(this.promise,this._result))):y(this.promise,F())}function F(){return new Error("Array Methods must be provided an Array")}function j(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=pe)}var x;x=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var K,V,B,z=x,W=0,Y=function(e,t){ee[W]=e,ee[W+1]=t,W+=2,2===W&&(V?V(c):B())},Z="undefined"!=typeof window?window:void 0,J=Z||{},X=J.MutationObserver||J.WebKitMutationObserver,$="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ee=new Array(1e3);B=$?r():X?i():Q?a():void 0===Z&&"function"==typeof require?d():u();var te=l,ne=f,oe=Math.random().toString(36).substring(16),re=void 0,se=1,ie=2,ae=new S,ue=new S,ce=0,de=P,le=L,fe=U,pe=k;k.all=de,k.race=le,k.resolve=ne,k.reject=fe,k._setScheduler=n,k._setAsap=o,k._asap=Y,k.prototype={constructor:k,then:te,"catch":function(e){return this.then(null,e)}};var _e=q;q.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===re&&e>n;n++)this._eachEntry(t[n],n)},q.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===ne){var r=h(e);if(r===te&&e._state!==re)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===pe){var s=new n(p);A(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(o(e),t)},q.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===re&&(this._remaining--,e===ie?y(o,n):this._result[t]=n),0===this._remaining&&T(o,this._result)},q.prototype._willSettleAt=function(e,t){var n=this;O(e,void 0,function(e){n._settledAt(se,t,e)},function(e){n._settledAt(ie,t,e)})};var me=j,he={Promise:pe,polyfill:me};"function"==typeof define&&define.amd?define("es6_promise",[],function(){return he}):"undefined"!=typeof module&&module.exports?module.exports=he:"undefined"!=typeof this&&(this.ES6Promise=he),me()}.call(this),define("pub_sub",[],function(){window.debug=!1;var e={events:{},on:function(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t),window.debug&&console.info("[Dispatcher]	Registering event "+e)},off:function(e,t){if(this.events[e])for(var n=0;n<this.events[e].length;n++)if(this.events[e][n]===t){this.events[e].splice(n,1),window.debug&&console.info("[Dispatcher]	Unregistering event "+e);break}},emit:function(e,t){window.debug&&console.info("[Dispatcher]	"+e),this.events[e]&&this.events[e].forEach(function(e){e(t)})}};return e}),define("requester",["core","es6_promise","pub_sub"],function(e,t,n){return Promise=Promise||t.Promise,function(t){function o(e,t){var n,o=t.data;o&&(t.serialized||"GET"!==t.method?t.serialized&&"GET"===t.method?t.url+="?"+o:n=o:(o=s(o),t.url+=o)),e.open(t.method,t.url,t.async),a(e,t),e.send(n)}function r(e,t){switch(t.dataType){case"html":return JSON.parse(e);case"file":return e;default:return JSON.parse(e)}}function s(e){var t="";for(var n in e)"object"!=typeof e[n]?t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(e[n]):"object"==typeof e[n]&&(t+=i(e,n));return t="?"+t.slice(1,t.length)}function i(e,t){if(null===e[t])return"&"+encodeURIComponent(t)+"=";var n=0,o=e[t].length,r="";if(!e[t].length)return r+="&"+t+"=";for(n;o>n;n++)r+="&"+t+"="+e[t][n];return r}function a(e,t){switch(e.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.dataType){case"html":e.setRequestHeader("Content-type","application/x-www-form-urlencoded");break;case"file":e.setRequestHeader("Content-type","text/plain");break;default:e.setRequestHeader("Content-type","application/json")}}var u={request:{method:t.method,url:t.url},response:{}};return new Promise(function(s,i){var a={method:"GET",data:null,dataType:"json",async:!0,serialized:!1};if(e.extend(a,t),a.dataType=a.dataType.toLowerCase(),!a.url)return void console.error("REQUESTER: url must be present on requested options.");var c=new XMLHttpRequest;c.open(a.method,a.url,a.async),c.onreadystatechange=function(){if(n.emit("READY_STATE_CHANGED",{readyState:c.readyState,request:c,options:a,data:u}),4===c.readyState){var e;if(c.status>=200&&c.status<400)e=r(c.response,a),e.status=c.status,e.redirectUrl&&302==e.status?window.location.href=e.redirectUrl:s(e);else try{var e=r(c.response,a);e.statusText=c.statusText,e.status=c.status,!e.redirectUrl||401!=e.status&&403!=e.status?i(e):window.location.href=e.redirectUrl}catch(t){i(c)}}},c.onerror=function(){i("Error: "+c.status+" - "+c.statusText)},o(c,a)})}}),define("constants",{events:{ERROR_RAISED:"ERROR_RAISED",UPDATE_SUMMARY:"UPDATE_SUMMARY",ACCORDION_CHANGED:"ACCORDION_CHANGED",MAP_MARKER_CLICKED:"MAP_MARKER_CLICKED",DISPLAY_NOTIFICATION:"DISPLAY_NOTIFICATION",DISMISS_NOTIFICATION:"DISMISS_NOTIFICATION",MAP_INFOWINDOW_OPENED:"MAP_INFOWINDOW_OPENED",MAP_ADDRESS_SELECTED:" MAP_ADDRESS_SELECTED",PAYMENT_METHOD_CHANGED:"PAYMENT_METHOD_CHANGED",FORM_VALIDATION_FAILED:"FORM_VALIDATION_FAILED",SHIPPING_ADDRESS_CHANGED:"SHIPPING_ADDRESS_CHANGED",SHIPPING_OPTIONS_CHANGED:"SHIPPING_OPTIONS_CHANGED",UPDATE_SHIPPING_OPTIONS:"UPDATE_SHIPPING_OPTIONS",CREDIT_CARD_TOKEN_CHANGED:"CREDIT_CARD_TOKEN_CHANGED",CHECKOUT_SAVE_AND_CONTINUE:"CHECKOUT_SAVE_AND_CONTINUE",CHECKOUT_SAVE_AND_CONTINUE_SUCCESS:"CHECKOUT_SAVE_AND_CONTINUE_SUCCESS",SHIPPING_VALIDATION_FAILED:"SHIPPING_VALIDATION_FAILED",SHIPPING_ADDRESS_SELECT_POINT_MAP:"SHIPPING_ADDRESS_SELECT_POINT_MAP",TRK:"TRK",TRK_FIRED:"TRK_FIRED",PROMOCODE_SUBMITTED:"PROMOCODE_SUBMITTED",PROMOCODE_REMOVED:"PROMOCODE_REMOVED",EDIT_CLICK_AND_COLLECT:"EDIT_CLICK_AND_COLLECT",TOGGLE_CREDIT_CARD_LIST_VISIBILITY:"TOGGLE_CREDIT_CARD_LIST_VISIBILITY",ZIPCODE_START_FETCHING:"ZIPCODE_START_FETCHING",ZIPCODE_END_FETCHING:"ZIPCODE_END_FETCHING",CREDIT_CARD_TYPE_CHANGED:"CREDIT_CARD_TYPE_CHANGED"},userActionTracker:{TRK_ALLOW_USE_LOCATION:272,TRK_SEARCH_STORE_POINT_ON_MAP:270,TRK_CLICK_ON_MAP:271,TRK_CREDIT_CARD_NUMBER_CHANGED:515,TRK_CREDIT_CARD_VALIDATION:516,TRK_SELECT_STORE_FROM_MAP_LOCATION:275,TRK_CHANGE_SHIPPIONG_OPTION:187,TRK_SAVE_CREDIT_CARD_TOKEN:305,TRK_SAVE_PAYPAL_TOKEN:434,TRK_PROMOCODE_APPLIED:311,TRK_PROMOCODE_FOCUSED:452,TRK_PROMOCODE_REMOVED:529,TRK_GUEST_SUBSCRIBE_NEWSLETTER:370,TRK_GUEST_UNSUBSCRIBE_NEWSLETTER:371,TRK_WECHAT_PAYMENT_DONE:501,TRK_ZIPCODE_ADDRESS_JP:484,TRK_ZIPCODE_ADDRESS_BR:354,TRK_DELIVERY_OPTIONS_ARE_AVAILABLE:540,TRK_FAPIAO_CHANGED:567,TRK_GUEST_SHIPPING_PASS:571,TRK_USE_NRC:572}}),!function(e,t,n){function o(e,t){return typeof e===t}function r(){var e,t,n,r,s,i,a;for(var u in d)if(d.hasOwnProperty(u)){if(e=[],t=d[u],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=o(t.fn,"function")?t.fn():t.fn,s=0;s<e.length;s++)i=e[s],a=i.split("."),1===a.length?f[a[0]]=r:(!f[a[0]]||f[a[0]]instanceof Boolean||(f[a[0]]=new Boolean(f[a[0]])),f[a[0]][a[1]]=r),c.push((r?"":"no-")+a.join("-"))}}function s(e){var t=p.className,n=f._config.classPrefix||"";if(_&&(t=t.baseVal),f._config.enableJSClass){var o=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(o,"$1"+n+"js$2")}f._config.enableClasses&&(t+=" "+n+e.join(" "+n),_?p.className.baseVal=t:p.className=t)}function i(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):_?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function a(){var e=t.body;return e||(e=i(_?"svg":"body"),e.fake=!0),e}function u(e,n,o,r){var s,u,c,d,l="modernizr",f=i("div"),_=a();if(parseInt(o,10))for(;o--;)c=i("div"),c.id=r?r[o]:l+(o+1),f.appendChild(c);return s=i("style"),s.type="text/css",s.id="s"+l,(_.fake?_:f).appendChild(s),_.appendChild(f),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(t.createTextNode(e)),f.id=l,_.fake&&(_.style.background="",_.style.overflow="hidden",d=p.style.overflow,p.style.overflow="hidden",p.appendChild(_)),u=n(f,e),_.fake?(_.parentNode.removeChild(_),p.style.overflow=d,p.offsetHeight):f.parentNode.removeChild(f),!!u}var c=[],d=[],l={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){d.push({name:e,fn:t,options:n})},addAsyncTest:function(e){d.push({name:null,fn:e})}},f=function(){};f.prototype=l,f=new f,f.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}});var p=t.documentElement,_="svg"===p.nodeName.toLowerCase(),m=l._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];l._prefixes=m;var h=l.testStyles=u;f.addTest("touchevents",function(){var n;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)n=!0;else{var o=["@media (",m.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");h(o,function(e){n=9===e.offsetTop})}return n});var E=function(){var t=e.matchMedia||e.msMatchMedia;return t?function(e){var n=t(e);return n&&n.matches||!1}:function(t){var n=!1;return u("@media "+t+" { #modernizr { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?e.getComputedStyle(t,null):t.currentStyle).position}),n}}();l.mq=E,f.addTest("mediaqueries",E("only all")),f.addTest("dataset",function(){var e=i("div");return e.setAttribute("data-a-b","c"),!(!e.dataset||"c"!==e.dataset.aB)}),r(),s(c),delete l.addTest,delete l.addAsyncTest;for(var g=0;g<f._q.length;g++)f._q[g]();e.Modernizr=f}(window,document),define("modernizr",function(){}),define("loadingConstants",{CLASS_NAME:"ff-loading",FIXED_CLASS:"fixed",MESSAGE_CLASS:"ff-loading-message",MODULE_LOADED:"MODULE_LOADED",MODULE_LOADING:"MODULE_LOADING",MODULE_LOADING_UPDATE:"MODULE_LOADING_UPDATE",WAIT_TIME:300}),define("loading",["pub_sub","loadingConstants"],function(e,t){function n(e){if(c&&(clearTimeout(c),c=null),!e)return null;var n=e.querySelector("."+t.CLASS_NAME)||document.body.querySelector("."+t.CLASS_NAME);if(!n)return null;var o=n.parentNode;o.removeChild(n)}function o(e){e.preventDefault()}function r(e,n){var r=document.createElement("div");return r.classList.add(t.CLASS_NAME),e&&r.classList.add(t.FIXED),r.addEventListener("click",o),n&&(loadingMessage=s(n),r.appendChild(loadingMessage)),r}function s(e){var n=document.createElement("p");return n.classList.add(t.MESSAGE_CLASS),n.innerHTML=e,n}function i(e){var n,o,s;"object"==typeof e&&1!==e.nodeType?(n=e.context,o=e.message,s=e.isFixed):n=e,c=setTimeout(function(){n.appendChild(r(s,o))},t.WAIT_TIME)}function a(e){var n,o;"object"==typeof e&&1!==e.nodeType?(n=e.context,o=e.message):n=e;var r=n.querySelector("."+t.CLASS_NAME);if(r){var i=r.querySelector("."+t.MESSAGE_CLASS);i&&r.removeChild(i),o&&r.appendChild(s(o))}}function u(){e.on(t.MODULE_LOADED,n),e.on(t.MODULE_LOADING,i),e.on(t.MODULE_LOADING_UPDATE,a)}var c=null;return u(),{MODULE_LOADED:t.MODULE_LOADED,MODULE_LOADING:t.MODULE_LOADING,MODULE_LOADING_UPDATE:t.MODULE_LOADING_UPDATE}}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("elementDataset",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.elementDataset=e()}}(function(){return function e(t,n,o){function r(i,a){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!a&&u)return u(i,!0);if(s)return s(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[i]={exports:{}};t[i][0].call(d.exports,function(e){var n=t[i][1][e];return r(n?n:e)},d,d.exports,e,t,n,o)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,t,n){"use strict";function o(){if(!(document.documentElement.dataset||Object.getOwnPropertyDescriptor(Element.prototype,"dataset")&&Object.getOwnPropertyDescriptor(Element.prototype,"dataset").get)){var e={};e.enumerable=!0,e.get=function(){function e(e){return e.charAt(1).toUpperCase()}function t(){return this.value}function n(e,t){"undefined"!=typeof t?this.setAttribute(e,t):this.removeAttribute(e)}for(var o=this,r={},s=this.attributes,i=0;i<s.length;i++){var a=s[i];if(a&&a.name&&/^data-\w[\w\-]*$/.test(a.name)){var u=a.name,c=a.value,d=u.substr(5).replace(/-./g,e);Object.defineProperty(r,d,{enumerable:this.enumerable,get:t.bind({value:c||""}),set:n.bind(o,u)})}}return r},Object.defineProperty(Element.prototype,"dataset",e)}}t.exports=o},{}]},{},[1])(1)});